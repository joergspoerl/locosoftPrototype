<ion-header>
    <ion-navbar color="primary">
  
      <ion-title>
        Contacts 3 A V S
      </ion-title>
  
      <ion-buttons end>
  
        <button ion-button (click)="showMap()">
          <ion-icon name="globe"></ion-icon>&nbsp;Karte
        </button>
  
        <button ion-button (click)="add()">
          <ion-icon name="person-add"></ion-icon>&nbsp;Neu
        </button>
  
      </ion-buttons>
  
    </ion-navbar>
  
    <ion-navbar>
      <ion-input style="background-color:white;" 
                 placeholder="Search ..." 
                 #searchBox id="search-box" 
                 [(ngModel)]="searchTerm"
                 (keyup)="search(searchBox.value)">
      </ion-input>
    </ion-navbar>

  </ion-header>
  
  
  <ion-content>

      <!-- | search:'name,address':query -->
      <virtual-scroll [items]="contacts" 
                      (update)="viewPortItems = $event" 
                      [childWidth]="100"
                      [childHeight]="95">
        <ion-list>
                          
          <div class="list-item" *ngFor="let contact of viewPortItems">
            <!-- {{contact.name}} -->
            <contact-list-item [contact]="contact" (removeClick)="removeClick(contact)">
            </contact-list-item>
          </div>

        </ion-list>
        
      </virtual-scroll>

  </ion-content>
  
  <ion-footer>
    <div class="bottom_bar">
        
        <div class="bottom_info" *ngIf="contacts"  (click)="testAdd()">
          # {{ contacts.length }}
        </div>
  
        <div class="bottom_info" *ngIf="contacts_total_rows" (click)="testRemove()">
            total: {{ contacts_total_rows }}
        </div>
  
        <div class="bottom_info" *ngIf="replication_info">
            {{ replication_info }} %
        </div>
  
        <div class="bottom_info" (click)="clickChangeType()">
          {{typeShort}}
        </div>
      
    </div>
  </ion-footer>